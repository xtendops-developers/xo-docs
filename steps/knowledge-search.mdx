---
title: Knowledge Search
description: Retrieve articles from your knowledge base
icon: "book-open-reader"
---

The **Knowledge Search** step retrieves relevant articles from your knowledge base using semantic similarity search and filtering.

## Overview

Knowledge Search enables SmartAgents to dynamically retrieve relevant information from your knowledge base and incorporate it into conversations. It uses semantic search to find the most relevant articles based on meaning, not just keywords.

<div align="center">
  ![Knowledge Search Step](/steps/images/knowledge-step.png)
</div>

[Learn more about Knowledge Management â†’](/platform/knowledgeManagement)

## Settings

### Namespace

The knowledge base namespace to search within. Each namespace contains a collection of related articles.

**Example namespaces:**

- Product documentation
- Company policies
- Troubleshooting guides
- FAQ articles

### Search Term

Variable containing the text to search for. Typically the customer's message or a specific query extracted from context.

**Example:** `customer_message` or `extracted_question`

### Knowledge Return Count

Number of articles to retrieve from the search. Returns the top N most relevant matches.

**Default:** 2

**Recommendation:** Keep between 2-5 for optimal context without overwhelming the LLM.

## Outputs

### Outputs

Name of the variable where the retrieved articles will be saved. Can be referenced in subsequent steps using `{variable_name}`.

**Default:** `knowledge_results`

**Using retrieved knowledge:**

```
Answer the customer's question using these knowledge articles:

{knowledge_results}
```

### Next Steps

The step(s) to execute after retrieving knowledge. Typically routes to an LLM step that uses the retrieved articles to generate a response.

### Send Documents

When enabled, sends the retrieved knowledge articles directly to the user instead of just using them as context for AI generation.

**Use case:** Allow users to reference the source documents directly.

## Advanced Settings

### Filter (key-value pairs)

Metadata filters to narrow search results. Provide comma-separated key-value pairs to filter articles by specific attributes.

**Format:** `key1, value1, key2, value2`

**Example:**

```
category, Returns, priority, high
```

This filters for articles where `category = "Returns"` AND `priority = "high"`.

**Dynamic variables:** Use `@variable_name` to filter by variable values.

**Example:**

```
category, Reports, intent, @intentVar
```

### Fallback Filter (key-value pairs)

Broader filter used when the primary search returns no results. Uses the same key-value format as the main filter but should be less restrictive.

**Example:**

```
category, General
```

**Use case:** Ensure some results are always returned, even if the primary search is too specific.

### Follow Up Steps

Steps that run in parallel after this step completes. Use this for actions that don't need to block the workflow, such as logging or analytics.

### Background Steps

Steps that run in the background while the main workflow continues. Useful for long-running tasks that shouldn't delay the response.

### Write Outputs to Background Context

When enabled, saves the retrieved articles to the background context, making them available to all subsequent steps in the conversation without explicitly passing them.

## Common Use Cases

### Product Support

Retrieve product documentation to help answer customer questions.

**Configuration:**

- Namespace: `product-docs`
- Search term: `customer_message`
- Return count: 3

### Troubleshooting

Find relevant solutions for customer issues.

**Configuration:**

- Namespace: `troubleshooting`
- Search term: `issue_description`
- Filter: `product, @product_name`
- Return count: 5

### Policy Questions

Retrieve company policies to provide accurate information.

**Configuration:**

- Namespace: `policies`
- Search term: `customer_message`
- Filter: `type, policy`
- Return count: 2

### FAQ Responses

Search frequently asked questions to quickly resolve common inquiries.

**Configuration:**

- Namespace: `faq`
- Search term: `customer_message`
- Return count: 3
- Fallback filter: `category, General`

## Related Pages

- [Knowledge Management](/platform/knowledgeManagement) - Upload and manage articles
- [LLM Step](/steps/llm-step) - Use retrieved knowledge in AI responses
- [Structured Output](/steps/structured-output) - Extract structured data from knowledge
