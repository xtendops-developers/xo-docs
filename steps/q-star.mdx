---
title: Q* (Q-Star)
description: Self-improving AI that learns from modifications
icon: "brain-circuit"
---

The **Q*** (Q-Star) step is a self-improving AI step that learns from agent modifications to continuously refine responses over time.

## Overview

Q* represents an advanced AI capability that automatically learns from changes made to SmartAgent configurations and refines its responses without requiring manual retraining. It uses conversation history compression and similarity matching to provide contextually relevant responses.

<div align="center">
  ![Q* Step](/steps/images/qStar.png)
</div>

## Settings

### LLM and Model

Select the LLM provider and specific model for generating responses. Overrides the default LLM and model set in SmartAgent settings.

### Prompt

The prompt sent to the LLM to generate a response. Q* automatically enhances this prompt with compressed conversation context and learned patterns.

### Fallback Steps

List of fallback step names to route to if Q* cannot generate a satisfactory response.

## QStar Settings

### Signature Type

Type of conversation signature to generate for similarity matching.

**Options:**
- **Simple** - Faster, less detailed conversation fingerprint
- **Full** - More comprehensive conversation analysis

### Verification Threshold

Threshold for accepting responses based on similarity scores (0-1). Higher values require closer matches to previous successful conversations.

**Range:** 0.0 to 1.0
**Default:** 0.9

### Last Message Weight

Balance between the current message and full conversation history when generating signatures.

**Range:** 0.0 (only conversation context) to 1.0 (only current message)
**Default:** 0.5

**Example:**
- 0.0 = Considers entire conversation, minimal weight on current message
- 0.5 = Balanced between current message and conversation history
- 1.0 = Focuses entirely on current message, ignores history

### Compression LLM and Model

Select the LLM provider and model used for compressing conversation history into signatures.

### Enable Auto-Prompt Improvement

When enabled, automatically improves prompts using AI when feedback scores are low. Q* learns from these improvements to enhance future responses.

### Auto-Prompt LLM and Model

Select the LLM provider and model for automatic prompt improvement when feedback scores are low.

## Outputs

### Outputs

Fixed output variable for Q* responses.

**Value:** `qstar_text` (cannot be changed)

### Next Steps

The step(s) to execute after Q* completes. Select from existing steps or enter a custom step name using variables.

## Advanced Settings

### Follow Up Steps

Steps that run in parallel after Q* completes. Use this for actions that don't need to block the workflow, such as logging or analytics.

### Background Steps

Steps that run in the background while the main workflow continues. Useful for long-running tasks that shouldn't delay the response.

## How Q* Works

1. **Conversation Analysis**: Q* compresses the conversation history into a signature using the compression LLM
2. **Similarity Matching**: Compares the current conversation signature against previous successful conversations
3. **Context Enhancement**: If a similar conversation is found above the threshold, Q* enhances the prompt with relevant context
4. **Response Generation**: Generates a response using the main LLM with enhanced context
5. **Learning**: When agents modify responses or prompts (and auto-prompt is enabled), Q* learns from these improvements

## Use Cases

### Adaptive Customer Support
Q* learns from agent modifications to provide increasingly accurate responses to common customer inquiries.

### Domain-Specific Learning
Over time, Q* adapts to your organization's specific terminology, policies, and communication style.

### Pattern Recognition
Identifies successful conversation patterns and applies them to similar scenarios automatically.

## Related Pages

- [LLM Step](/steps/llm-step) - Traditional AI-driven response generation
- [Knowledge Search](/steps/knowledge-search) - Retrieve relevant knowledge
- [SmartAgent Builder](/platform/smartAgentBuilder) - Configure Q* within workflows
